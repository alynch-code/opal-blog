---
---

<!-- Opal Chat Component -->
<div
  x-data="{ open: false }"
  class="fixed bottom-6 right-6 z-50"
  data-opal-chat="floating"
>
  <!-- Toggle Button -->
  <button 
    @click="open = !open"
    aria-label="Chat with Opal the Cat"
    class="w-16 h-16 rounded-full shadow-lg bg-white dark:bg-gray-800 flex items-center justify-center border border-gray-300 dark:border-gray-700 hover:scale-105 transition-all"
  >
    <img 
      src="/opal-avatar.jpg" 
      alt="Opal the Cat Avatar" 
      class="w-10 h-10 rounded-full object-cover"
    />
  </button>

  <!-- Chat Window -->
  <div 
    x-show="open" 
    x-transition 
    @click.stop
    class="mt-4 w-[320px] bg-white dark:bg-gray-900 shadow-2xl rounded-xl p-4 text-sm text-gray-800 dark:text-gray-100 flex flex-col"
    style="display: none;"
  >
    <!-- Header -->
    <div class="flex items-center justify-between mb-3">
      <div class="flex items-center gap-2">
        <img src="/opal-avatar.jpg" alt="Opal Avatar" class="w-6 h-6 rounded-full" />
        <span class="font-semibold">Opal the Cat</span>
      </div>
      <div class="flex items-center gap-2">
        <button class="opal-goodbye text-xs text-gray-400 hover:text-gray-700 dark:hover:text-white">Goodbye</button>
        <button @click="open = false" class="text-gray-400 hover:text-gray-700 dark:hover:text-white">&times;</button>
      </div>
    </div>

    <!-- Chat Panel -->
      <div
        class="chat-panel overflow-y-auto max-h-[300px] h-[300px] px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md space-y-3 bg-white dark:bg-gray-900"
        style="scrollbar-width: none; -ms-overflow-style: none;"
      ></div>


    <!-- Input Form -->
      <form class="opal-form flex items-center gap-2 mt-3">
        <input
          class="opal-input flex-grow px-3 py-2 rounded-lg border bg-white text-black"
          type="text"
          placeholder="Ask something cozy..."
          required
        />
      <button type="submit" class="px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700">Send</button>
    </form>
  </div>
</div>

<!-- Include the chat logic script -->
<script src="/opal-chat.js" is:inline></script>
