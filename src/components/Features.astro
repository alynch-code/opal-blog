---
const services = [
  {
    title: 'Form Help & Application Support',
    description: 'Housing apps, benefits, job portals. If it\u2019s confusing, we make it make sense.',
    price: 'Starting at $99',
    link: 'https://square.link/u/6Z7f2Wgd',
    icon: '‚úçÔ∏è'
  },
  {
    title: 'Personal Fixer Services',
    description: 'Behind on tasks? Can\u2019t face the inbox? We\u2019ll help you catch up quietly and without judgment.',
    price: 'Starting at $149',
    link: 'https://square.link/u/blaOo1zP',
    icon: 'üßæ'
  },
  {
    title: 'Travel Concierge for Real People',
    description: 'Trips for anxious flyers, solo explorers, or tired couples. We handle the planning and you enjoy the trip.',
    price: 'Starting at $199',
    link: 'https://square.link/u/dohrzfja',
    icon: '‚úàÔ∏è'
  },
  {
    title: 'Notary Services (Coming Soon)',
    description: 'When your paperwork needs to be official, we\u2019ll handle that too right from your home or office.',
    price: '',
    link: '',
    icon: 'üîè'
  },
];

const steps = [
  {
    heading: 'Submit a Request',
    text:
      "Let us know what kind of support you need whether it's help with a tricky form, finishing an application, or just understanding where to start.",
  },
  {
    heading: 'Opal Will Triage It',
    text:
      'Our AI receptionist gives you a warm welcome and sends your request to the right person (or answers right away, if it\u2019s quick!).',
  },
  {
    heading: 'We Get to Work',
    text:
      'Our team responds with next steps or delivers the service you requested efficiently and clearly.',
  },
  {
    heading: 'You Feel the Progress',
    text: 'Every request you send through Opal helps you move forward no stress, no fluff.',
  },
];
---

<section id="services" class="section bg-white dark:bg-secondary-900">
  <div class="container-custom text-center mb-12">
    <h2 class="text-3xl font-semibold text-opal-deep dark:text-white mb-4">What We Do</h2>
    <p class="text-gray-600 dark:text-gray-300">Life gets messy. We untangle the hard stuff.</p>
  </div>
    
     <div class="container-custom grid md:grid-cols-2 lg:grid-cols-3 gap-8">
    {services.map((feature, index) => (
      <div
        class={`card p-6 border border-gray-200 dark:border-gray-700 slide-up ${index === services.length - 1 ? 'lg:col-span-3 text-center' : ''}`}
        style={`animation-delay: ${index * 150}ms`}
      >
        <h3 class="text-xl font-semibold mb-2">{feature.icon} {feature.title}</h3>
        <p class="text-gray-600 dark:text-gray-300 mb-2">{feature.description}</p>
        {feature.price && (
          <p class="font-semibold text-opal-deep dark:text-opal-glow">{feature.price}</p>
        )}
        {feature.link && (
          <a
            href={feature.link}
            class="btn-primary mt-4 inline-block"
            rel="noopener noreferrer"
          >
            Book Now
          </a>
        )}
      </div>
    ))}
  </div>
</section>

<section id="meet-opal" class="section bg-opal-glow/20 dark:bg-secondary-800">
  <div class="container-custom grid md:grid-cols-2 gap-8 items-center">
    <img src="/opal-avatar.jpg" alt="Opal the Cat" class="w-48 h-48 rounded-full mx-auto" />
    <div class="space-y-6 text-center md:text-left">
      <h2 class="text-2xl font-semibold text-opal-deep dark:text-white">Meet Opal, Our Professional Cat-On-Duty üêæ</h2>
      <p class="text-gray-700 dark:text-gray-300">Opal isn‚Äôt just a face, she‚Äôs our friendly greeter. Whether you're exploring services or just curious about what we do, Opal is here to guide you, answer quick questions, and help you find exactly what you need all with a signature paw-swipe of professionalism.</p>
      <div class="space-y-2 text-sm">
        <div class="flex justify-end">
          <p class="bg-opal-ocean text-white py-2 px-3 rounded-lg max-w-xs">Can I book a quick consult?</p>
        </div>
        <div class="flex justify-start">
          <p class="bg-white dark:bg-secondary-900 shadow-md py-2 px-3 rounded-lg max-w-xs">Absolutely. Would you like help filling out a form or figuring out next steps?</p>
        </div>
        <div class="flex justify-end">
          <p class="bg-opal-ocean text-white py-2 px-3 rounded-lg max-w-xs">Both, actually.</p>
        </div>
        <div class="flex justify-start">
          <p class="bg-white dark:bg-secondary-900 shadow-md py-2 px-3 rounded-lg max-w-xs">Purr-fect. Let me pull up some options for you now.</p>
        </div>
      </div>
      <button type="button" class="btn-primary inline-block" onclick="openOpalChat()">Start Chatting with Opal</button>
    </div>
  </div>
</section>

<section id="how-it-works" class="section bg-opal-glow/20 dark:bg-secondary-800">
  <div class="container-custom text-center">
    <h2 class="text-3xl font-semibold text-opal-deep dark:text-white mb-8">How We Help You Get Unstuck</h2>
    <ol class="grid gap-6 md:grid-cols-4 max-w-5xl mx-auto text-left text-gray-700 dark:text-gray-300">
      {steps.map((step, index) => (
        <li class="card p-6 flex flex-col h-full">
          <div class="flex items-center gap-3 mb-3">
            <span class="flex items-center justify-center w-8 h-8 rounded-full bg-opal-ocean text-white font-semibold">{index + 1}</span>
            <h3 class="font-semibold text-opal-deep dark:text-white">{step.heading}</h3>
          </div>
          <p class="text-sm">{step.text}</p>
        </li>
      ))}
    </ol>
  </div>
</section>
